{% extends 'base.html.twig' %}

{% block title %}
	Gestion des villes | Sortir.com
{% endblock %}

{% block body %}
	<h1 class="text-center mb-4">GÃ©rer les villes</h1>

	<div class="container">
		<table class="table table-striped table-dark">
			<thead>
			<tr>
				<th>Nom</th>
				<th>Code postal</th>
				<th>Actions</th>
			</tr>
			</thead>
			<tbody>
			{% for ville in villes %}
				<tr>
					<td>{{ ville.nom }}</td>
					<td>{{ ville.codePostal }}</td>
					<td>
						<a href="{{ path('ville_edit', { 'id': ville.id }) }}" class="btn btn-primary btn-sm">Modifier</a>
						<a href="{{ path('ville_delete', { 'id': ville.id , 'token': csrf_token('supprimer-ville-' ~ ville.id) }) }}" class="btn btn-danger btn-sm ms-2">Supprimer</a>
					</td>
				</tr>
			{% endfor %}
			<tr>
				{{ form_start(villeForm) }}
				<td>{{ form_widget(villeForm.nom, {'attr': {'class': 'form-control'}}) }}</td>
				<td>{{ form_widget(villeForm.codePostal, {'attr': {'class': 'form-control'}}) }}</td>
				<td><button type="submit" class="btn btn-success">Ajouter</button></td>
				{{ form_end(villeForm) }}
			</tr>
			</tbody>
		</table>
	</div>
{% endblock %}
